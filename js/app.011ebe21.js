(function(t){function e(e){for(var c,i,l=e[0],d=e[1],o=e[2],b=0,p=[];b<l.length;b++)i=l[b],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(c in d)Object.prototype.hasOwnProperty.call(d,c)&&(t[c]=d[c]);n&&n(e);while(p.length)p.shift()();return s.push.apply(s,o||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],c=!0,l=1;l<a.length;l++){var d=a[l];0!==r[d]&&(c=!1)}c&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var c={},r={app:0},s=[];function i(e){if(c[e])return c[e].exports;var a=c[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=c,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)i.d(a,c,function(e){return t[e]}.bind(null,c));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/reservoir-watch/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var o=0;o<l.length;o++)e(l[o]);var n=d;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1e04":function(t,e,a){},"21e7":function(t,e,a){"use strict";a("1e04")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var c=a("7a23"),r=(a("b680"),{class:"mdc-drawer mdc-drawer--dismissible mdc-drawer--open"}),s=Object(c["g"])("div",{class:"mdc-drawer__header"},[Object(c["g"])("h4",{class:"brand-logo text-white text-center"},"Reservoir Watch")],-1),i={class:"mdc-drawer__content pt-4"},l=["onClick"],d={class:"card-inner"},o={class:"card-title"},n={class:"d-flex justify-content-between"},b=Object(c["g"])("p",{class:"font-weight-light m-0"},"Max. Level",-1),p={class:"font-weight-bold pb-2 mb-1 border-bottom"},u=Object(c["g"])("p",{class:"tx-11 text-muted"},"Height in ft",-1),g=Object(c["g"])("p",{class:"font-weight-light m-0"},"Full Capacity",-1),m={class:"font-weight-bold pb-2 mb-1 border-bottom"},h=Object(c["g"])("p",{class:"tx-11 text-muted"},"Volume in TMC",-1),f={class:"main-wrapper mdc-drawer-app-content"},v={class:"mdc-top-app-bar"},j={class:"mdc-top-app-bar__row"},O={class:"mdc-top-app-bar__section mdc-top-app-bar__section--align-start"},y=Object(c["g"])("button",{class:"material-icons mdc-top-app-bar__navigation-icon mdc-icon-button sidebar-toggler"},"menu",-1),w={class:"mdc-top-app-bar__title"},_={class:"mdc-top-app-bar__section mdc-top-app-bar__section--align-end mdc-top-app-bar__section-right"},x={class:"menu-button-container d-none d-md-flex"},C=Object(c["g"])("span",{class:"tx-13 mt-1"},"Select Date: ",-1),k={key:0,class:"page-wrapper mdc-toolbar-fixed-adjust"},S={class:"content-wrapper"},M={class:"mdc-layout-grid"},D={class:"mdc-layout-grid__inner"},P={class:"mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet"},R={class:"mdc-card info-card info-card--success"},A={class:"card-inner mr-0"},L=Object(c["g"])("h5",{class:"card-title"},"Cumulative Annual Rainfall in Catchment",-1),N=Object(c["g"])("p",{class:"font-weight-light"}," ",-1),W={class:"font-weight-bold pb-2 mb-1 border-bottom fs-large"},z={class:"tx-12 text-muted"},F={class:"mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet"},I={class:"card-inner mr-0"},B=Object(c["g"])("h5",{class:"card-title"},"Current Reservoir Status",-1),J={class:"font-weight-light"},E={class:"d-flex justify-content-between"},H=Object(c["g"])("p",{class:"m-0"},"Water Level",-1),T={class:"font-weight-bold pb-2 mb-1 border-bottom fs-large"},V=Object(c["g"])("p",{class:"tx-11 text-muted"},"Height in ft",-1),K=Object(c["g"])("p",{class:"m-0"},"Volume",-1),G={class:"font-weight-bold pb-2 mb-1 border-bottom fs-large"},Z=Object(c["g"])("p",{class:"tx-11 text-muted"},"Volume in TMC",-1),Q={class:"mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet"},X={class:"card-inner mr-0"},q=Object(c["g"])("h5",{class:"card-title"},"15 Days Prediction",-1),U={class:"font-weight-light"},Y={class:"d-flex justify-content-between"},$=Object(c["g"])("p",{class:"m-0"},"Water Level",-1),tt={class:"font-weight-bold pb-2 mb-1 border-bottom fs-large"},et=Object(c["g"])("p",{class:"tx-11 text-muted"},"Height in ft",-1),at=Object(c["g"])("p",{class:"m-0"},"Accuracy",-1),ct={class:"font-weight-bold pb-2 mb-1 border-bottom fs-large"},rt=Object(c["g"])("p",{class:"tx-11 text-muted"},"Value in %",-1),st={class:"mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-3-desktop mdc-layout-grid__cell--span-4-tablet"},it={class:"card-inner mr-0"},lt=Object(c["g"])("h5",{class:"card-title"},"30 Days Prediction",-1),dt={class:"font-weight-light"},ot={class:"d-flex justify-content-between"},nt=Object(c["g"])("p",{class:"m-0"},"Water Level",-1),bt={class:"font-weight-bold pb-2 mb-1 border-bottom fs-large"},pt={key:0,class:"tx-11 text-muted"},ut=Object(c["g"])("p",{class:"m-0"},"Accuracy",-1),gt={class:"font-weight-bold pb-2 mb-1 border-bottom fs-large"},mt=Object(c["g"])("p",{class:"tx-11 text-muted"},"Value in %",-1),ht=Object(c["h"])('<div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-8"><div class="mdc-card"><div class="d-flex justify-content-between align-items-center"><div><h4 class="card-title">Actual data vs Predictive Model Result</h4></div><div id="level-legend" class="d-flex flex-wrap"></div></div><div class="chart-container mt-4"><canvas id="level-chart" height="260"></canvas></div></div></div><div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-4 mdc-layout-grid__cell--span-8-tablet"><div class="mdc-card p-0" id="map"></div></div>',2),ft=Object(c["h"])('<footer><div class="mdc-layout-grid"><div class="mdc-layout-grid__inner"><div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-6-desktop"><span class="text-center text-sm-left d-block d-sm-inline-block tx-14">SpatialXYZ © 2021 | <a href="https://drive.google.com/file/d/115ywrEGOnZlgGDf1AGe3vjdEez8rP9Dw/view" target="_blank">About</a></span></div></div></div></footer>',1);function vt(t,e,a,vt,jt,Ot){var yt=Object(c["t"])("datepicker");return Object(c["n"])(),Object(c["f"])(c["a"],null,[Object(c["g"])("aside",r,[s,Object(c["g"])("div",i,[(Object(c["n"])(!0),Object(c["f"])(c["a"],null,Object(c["r"])(jt.sheets,(function(t){return Object(c["n"])(),Object(c["f"])("div",{class:Object(c["m"])(["mdc-card mx-3 p-3 mb-4",{active:jt.current==t.properties.title}]),key:t.properties.title,onClick:function(e){return Ot.setCurrentSheet(t.properties.title)}},[Object(c["g"])("div",d,[Object(c["g"])("h5",o,Object(c["v"])(t.properties.title),1),Object(c["g"])("div",n,[Object(c["g"])("div",null,[b,Object(c["g"])("h5",p,Object(c["v"])(jt.info[t.properties.title].max_level),1),u]),Object(c["g"])("div",null,[g,Object(c["g"])("h5",m,Object(c["v"])(jt.info[t.properties.title].capacity),1),h])])])],10,l)})),128))])]),Object(c["g"])("div",f,[Object(c["g"])("header",v,[Object(c["g"])("div",j,[Object(c["g"])("div",O,[y,Object(c["g"])("span",w,Object(c["v"])(Ot.row[1]),1)]),Object(c["g"])("div",_,[Object(c["g"])("div",x,[C,Object(c["j"])(yt,{modelValue:Ot.selectedDate,"onUpdate:modelValue":e[0]||(e[0]=function(t){return Ot.selectedDate=t}),"disabled-dates":{dates:Ot.disabledDates},"input-format":"dd-MM-yyyy","lower-limit":Ot.datePickerFrom,"upper-limit":Ot.datePickerTo},null,8,["modelValue","disabled-dates","lower-limit","upper-limit"])])])])]),Ot.row?(Object(c["n"])(),Object(c["f"])("div",k,[Object(c["g"])("main",S,[Object(c["g"])("div",M,[Object(c["g"])("div",D,[Object(c["g"])("div",P,[Object(c["g"])("div",R,[Object(c["g"])("div",A,[L,N,Object(c["g"])("h5",W,Object(c["v"])(parseFloat(Ot.row[10]).toFixed(2))+" mm",1),Object(c["g"])("p",z,"Average Annual Rainfall: "+Object(c["v"])(Ot.row[1]?jt.info[Ot.row[1]].rainfall:"")+" mm",1)])])]),Object(c["g"])("div",F,[Object(c["g"])("div",{class:Object(c["m"])(["mdc-card info-card",Ot.cardClass("current")])},[Object(c["g"])("div",I,[B,Object(c["g"])("p",J,"Water Supply Risk: "+Object(c["v"])(Ot.row[25]),1),Object(c["g"])("div",E,[Object(c["g"])("div",null,[H,Object(c["g"])("h5",T,Object(c["v"])(Ot.row[3]),1),V]),Object(c["g"])("div",null,[K,Object(c["g"])("h5",G,Object(c["v"])(parseFloat(Ot.row[6]).toFixed(2)),1),Z])])])],2)]),Object(c["g"])("div",Q,[Object(c["g"])("div",{class:Object(c["m"])(["mdc-card info-card info-card--primary",Ot.cardClass("15_days")])},[Object(c["g"])("div",X,[q,Object(c["g"])("p",U,"Water Supply Risk: "+Object(c["v"])(Ot.row[26]),1),Object(c["g"])("div",Y,[Object(c["g"])("div",null,[$,Object(c["g"])("h5",tt,Object(c["v"])(Ot.row[23]),1),et]),Object(c["g"])("div",null,[at,Object(c["g"])("h5",ct,Object(c["v"])(isNaN(Ot.row[29])?Ot.row[29]:parseFloat(Ot.row[29]).toFixed(2)),1),rt])])])],2)]),Object(c["g"])("div",st,[Object(c["g"])("div",{class:Object(c["m"])(["mdc-card info-card info-card--info",Ot.cardClass("30_days")])},[Object(c["g"])("div",it,[lt,Object(c["g"])("p",dt,"Water Supply Risk: "+Object(c["v"])(Ot.row[27]),1),Object(c["g"])("div",ot,[Object(c["g"])("div",null,[nt,Object(c["g"])("h5",bt,Object(c["v"])(Ot.row[24]),1),Ot.row[24]&&"N/A"!==Ot.row[24]?(Object(c["n"])(),Object(c["f"])("p",pt,"Height in ft")):Object(c["e"])("",!0)]),Object(c["g"])("div",null,[ut,Object(c["g"])("h5",gt,Object(c["v"])(isNaN(Ot.row[30])?Ot.row[30]:parseFloat(Ot.row[30]).toFixed(2)),1),mt])])])],2)]),ht])])]),ft])):Object(c["e"])("",!0)])],64)}a("7db0"),a("d81d"),a("caad"),a("2532"),a("c740"),a("a434"),a("d3b7"),a("ddb0"),a("99af"),a("a15b");var jt,Ot=a("bc3a"),yt=a.n(Ot),wt=a("2ef0"),_t=a.n(wt),xt=a("feb8"),Ct=a("2cf3"),kt=a("b166"),St=a("24e7"),Mt=window.jQuery,Dt=window.Chart,Pt={components:{Datepicker:St["a"]},data:function(){return{publicPath:"/reservoir-watch/",current:"",items:[],date:"",sheets:[],info:{"Krishna Raja Sagara Dam":{lat:12.4728,lon:76.4827,zoom:11,max_level:124.8,capacity:49.45,rainfall:750},"Hemavathi Dam":{lat:12.8312,lon:76.0007,zoom:11,max_level:2922,capacity:37.1,rainfall:900},"Harangi Dam":{lat:12.4969,lon:75.8795,zoom:12,max_level:2959,capacity:8.5,rainfall:1240},"Kabini Dam":{lat:11.956,lon:76.2753,zoom:11,max_level:2284,capacity:19.52,rainfall:1300}}}},computed:{row:function(){return""==this.date?[]:_t.a.find(this.items,{2:this.date})},disabledDates:function(){var t=[];if(this.items.length){var e=Object(xt["a"])({start:Object(Ct["a"])(this.items[1][2],"dd-MM-yyyy",new Date),end:Object(Ct["a"])(this.items[this.items.length-1][2],"dd-MM-yyyy",new Date)});e=_t.a.map(e,(function(t){return Object(kt["a"])(t,"dd-MM-yyyy")}));var a=_t.a.map(this.items,2);a.shift(),t=_t.a.reduce(e,(function(t,e,c){return _t.a.includes(a,e)||t.push(Object(Ct["a"])(e,"dd-MM-yyyy",new Date)),t}),[])}return t},datePickerTo:function(){return this.items.length?Object(Ct["a"])(this.items[this.items.length-30][2],"dd-MM-yyyy",new Date):new Date},datePickerFrom:function(){return this.items.length?Object(Ct["a"])(this.items[1][2],"dd-MM-yyyy",new Date):new Date},selectedDate:{get:function(){return Object(Ct["a"])(this.date,"dd-MM-yyyy",new Date)},set:function(t){this.date=Object(kt["a"])(t,"dd-MM-yyyy")}},range:function(){var t=_t.a.findIndex(this.items,{2:this.date}),e=JSON.parse(JSON.stringify(this.items));return e.splice(t,30)}},watch:{current:function(t){var e=this,a=localStorage.getItem(t);if(a){this.items=JSON.parse(a);var c=this.items[this.items.length-30];this.date=c[2],this.updateChart()}else yt.a.get("https://sheets.googleapis.com/v4/spreadsheets/1x8WkZ5NJk9BgOsQIz1R4jShRC7hd3KcwE-NK9C45RdM/values/".concat(t,"?alt=json&key=AIzaSyDRMLsE7nXHAPfpL8WavbwqdtA70geEt0o")).then((function(a){e.items=a.data.values,localStorage.setItem(t,JSON.stringify(a.data.values));var c=e.items[e.items.length-30];e.date=c[2],e.updateChart()}));Mt("#map").empty(),Mt("<iframe/>",{name:"map",id:"reservoir-map",width:"100%",frameBorder:"0",height:"100%",src:"".concat(this.publicPath,"map/index.html#").concat(this.info[t].zoom,"/").concat(this.info[t].lat,"/").concat(this.info[t].lon)}).appendTo("#map")},date:function(t,e){-1==_t.a.findIndex(this.items,{2:t})&&(this.date=e),this.updateChart()}},mounted:function(){var t=this,e=localStorage.getItem("sheets");e?(this.sheets=JSON.parse(e),this.current=this.sheets[0].properties.title):yt.a.get("https://sheets.googleapis.com/v4/spreadsheets/1x8WkZ5NJk9BgOsQIz1R4jShRC7hd3KcwE-NK9C45RdM?alt=json&key=AIzaSyDRMLsE7nXHAPfpL8WavbwqdtA70geEt0o").then((function(e){t.sheets=e.data.sheets,localStorage.setItem("sheets",JSON.stringify(e.data.sheets)),t.current=t.sheets[0].properties.title}))},methods:{setCurrentSheet:function(t){this.current=t},cardClass:function(t,e){switch(t){case"current":return"bg-"+(this.row[25]||"gray");case"15_days":return"bg-"+(this.row[26]||"gray");case"30_days":return"bg-"+(this.row[27]||"grey")}},updateChart:function(){jt&&jt.destroy();var t=_t.a.map(this.range,2),e=_t.a.map(this.range,3),a=_t.a.map(this.range,28),c=Mt("#level-chart").get(0).getContext("2d"),r=c.createLinearGradient(0,0,0,230),s=c.createLinearGradient(0,0,0,160);r.addColorStop(0,"#55d1e8"),r.addColorStop(1,"rgba(255, 255, 255, 0)"),s.addColorStop(0,"#1bbd88"),s.addColorStop(1,"rgba(255, 255, 255, 0)"),jt=new Dt(c,{type:"line",data:{labels:t,datasets:[{data:e,backgroundColor:r,borderColor:["#08bdde"],borderWidth:2,pointBorderColor:"#08bdde",pointBorderWidth:4,pointRadius:1,fill:"origin"},{data:a,backgroundColor:s,borderColor:["#00b67a"],borderWidth:2,pointBorderColor:"#00b67a",pointBorderWidth:4,pointRadius:1,fill:"origin"}]},options:{tooltips:{callbacks:{label:function(t,e){return t.yLabel+" ft"}}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{usePointStyle:!0}},filler:{propagate:!1}},scales:{xAxes:[{ticks:{fontColor:"#bababa",fontSize:11},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{scaleLabel:{labelString:"Reservoir Level (ft)",display:!0},ticks:{fontColor:"#bababa",stepSize:1},gridLines:{drawBorder:!1,color:"rgba(101, 103, 119, 0.21)",zeroLineColor:"rgba(101, 103, 119, 0.21)"}}]},legend:{display:!1},elements:{line:{tension:0}},legendCallback:function(t){var e=[];return e.push("<div>"),e.push('<div class="d-flex align-items-center">'),e.push('<span class="bullet-rounded" style="background-color: '+t.data.datasets[0].borderColor[0]+"; border-color: "+t.data.datasets[0].borderColor[0]+' "></span>'),e.push('<p class="tx-11 text-muted mb-0 ml-2">Actual Data</p>'),e.push("</div>"),e.push('<div class="d-flex align-items-center">'),e.push('<span class="bullet-rounded" style="background-color: '+t.data.datasets[1].borderColor[0]+";border-color: "+t.data.datasets[1].borderColor[0]+' "></span>'),e.push('<p class="tx-11 text-muted mb-0 ml-2">Predicted Data</p>'),e.push("</div>"),e.push("</div>"),e.join("")}}}),document.getElementById("level-legend").innerHTML=jt.generateLegend()}}};a("21e7");Pt.render=vt;var Rt=Pt;Object(c["c"])(Rt).mount("#app")}});
//# sourceMappingURL=app.011ebe21.js.map